# 七禾建築組管理平台說明書

## 平台概述

七禾建築組管理平台是一個專為建築組成員設計的綜合管理系統，提供活動管理、財務管理、成員管理、名片管理等功能。

## 權限架構

### 角色定義

| 角色 | 權限範圍 | 說明 |
|------|----------|------|
| **管理者 (admin)** | 所有功能 | 擁有平台所有功能的完整權限 |
| **活動管理 (event_manager)** | 活動相關功能 | 新增/編輯活動、簽到管理、講師預約 |
| **財務管理 (finance_manager)** | 財務相關功能 | 財務記錄、成員繳費、交易管理 |
| **菜單管理 (menu_manager)** | 菜單相關功能 | 月份菜單設定、餐點管理 |
| **簽到管理 (checkin_manager)** | 簽到相關功能 | 活動簽到功能、報名管理 |

### 權限分配原則

- **管理者**：可分配所有角色權限給其他成員
- **功能角色**：只能管理自己負責的功能模組
- **一般成員**：只能查看和參與活動，無管理權限

## 主要功能模組

### 1. 活動管理系統

#### 1.1 活動大廳 (`/hall`)
- **功能**：查看所有活動列表
- **權限**：所有登入用戶
- **特色**：
  - 按月份分組顯示活動
  - 顯示報名人數、簽到狀態
  - 支援活動搜尋和篩選

#### 1.2 活動詳情 (`/hall/[id]`)
- **功能**：查看單一活動詳細資訊
- **權限**：所有登入用戶
- **內容**：
  - 活動基本資訊（時間、地點、費用）
  - 報名狀態和繳費狀態
  - 菜單資訊
  - 講師資訊

#### 1.3 活動管理 (`/admin/events`)
- **功能**：新增、編輯、刪除活動
- **權限**：管理者、活動管理
- **功能**：
  - 活動基本資訊設定
  - 費用設定（單次/固定成員）
  - 餐點設定
  - 講師預約

#### 1.4 簽到管理 (`/admin/checkin/[eventId]`)
- **功能**：活動簽到和報名管理
- **權限**：管理者、活動管理、簽到管理
- **功能**：
  - 報名列表查看
  - 簽到狀態管理
  - 繳費狀態管理
  - 報名統計

### 2. 財務管理系統

#### 2.1 財務總覽 (`/admin/finance`)
- **功能**：財務記錄和統計
- **權限**：管理者、財務管理
- **功能**：
  - 收入/支出記錄
  - 財務統計圖表
  - 交易記錄管理
  - 資料匯出

#### 2.2 成員繳費管理 (`/admin/members`)
- **功能**：成員繳費狀態管理
- **權限**：管理者、財務管理
- **功能**：
  - 單次成員繳費管理
  - 固定成員月費管理
  - 繳費狀態追蹤
  - 繳費訊息生成

### 3. 成員管理系統

#### 3.1 成員名單 (`/admin/member-list`)
- **功能**：查看所有成員資訊
- **權限**：管理者
- **功能**：
  - 成員基本資料
  - 報名歷史
  - 繳費記錄

#### 3.2 權限管理 (`/admin/permissions`)
- **功能**：分配和管理成員權限
- **權限**：僅管理者
- **功能**：
  - 角色分配
  - 權限調整
  - 成員搜尋

### 4. 名片管理系統

#### 4.1 名片庫 (`/cards`)
- **功能**：查看和管理名片資料
- **權限**：所有登入用戶
- **功能**：
  - 名片搜尋和篩選
  - 分類瀏覽
  - 詳細資訊查看

#### 4.2 名片掃描 (`/cards/scan`)
- **功能**：掃描和新增名片
- **權限**：所有登入用戶
- **功能**：
  - 相機拍照掃描
  - OCR 文字識別
  - 手動編輯和確認
  - 自動分類

#### 4.3 名片管理 (`/cards/manage`)
- **功能**：名片資料管理
- **權限**：管理者
- **功能**：
  - 名片編輯和刪除
  - 分類管理
  - 資料匯出

### 5. 菜單管理系統

#### 5.1 菜單管理 (`/admin/menus`)
- **功能**：月份菜單設定
- **權限**：管理者、菜單管理
- **功能**：
  - 月份菜單規劃
  - 餐點選項設定
  - 特殊需求管理

### 6. 其他功能

#### 6.1 相簿管理 (`/admin/gallery`)
- **功能**：活動照片管理
- **權限**：管理者
- **功能**：
  - 照片上傳
  - 相簿分類
  - 照片管理

#### 6.2 邀請管理 (`/admin/invitations`)
- **功能**：成員邀請管理
- **權限**：管理者
- **功能**：
  - 邀請碼生成
  - 邀請狀態追蹤

## 成員類型說明

### 單次成員 (SINGLE)
- 按次繳費，每次活動 $220
- 可選擇性參與活動
- 需要手動繳費

### 固定成員 (FIXED)
- 按月繳費，月費 = 當月活動次數 × $180
- 自動參與所有活動
- 可設定自動繳費

## 活動類型說明

| 類型 | 說明 | 費用設定 |
|------|------|----------|
| **GENERAL** | 一般活動 | 預設費用 |
| **CLOSED** | 內部活動 | 預設費用 |
| **BOD** | 董事會 | 預設費用 |
| **DINNER** | 聚餐 | 預設費用 |
| **JOINT** | 聯合活動 | 預設費用 |
| **SOFT** | 軟性活動 | 預設費用 |
| **VISIT** | 參訪活動 | 預設費用 |

## 使用流程

### 一般成員使用流程
1. 登入平台
2. 查看活動大廳
3. 選擇活動報名
4. 確認繳費狀態
5. 參與活動

### 管理員使用流程
1. 登入平台
2. 進入管理後台
3. 根據權限管理相應功能
4. 監控平台運作狀況

## 技術規格

- **前端**：Next.js 15, React, TypeScript
- **後端**：Next.js API Routes
- **資料庫**：PostgreSQL
- **ORM**：Prisma
- **認證**：NextAuth.js
- **部署**：Vercel

## 聯絡資訊

如有問題或建議，請聯繫平台管理員。
